<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Player</title>

  <!-- Vue.js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <div class="player shadow-lg">
      <!-- Album Cover with Transition -->
      <transition name="fade">
        <div class="cover" v-if="isShowCover">
          <img :src="currentTrack.cover" :alt="currentTrack.name">
        </div>
      </transition>

      <!-- Track Info -->
      <div class="info">
        <h2>{{ currentTrack.name }}</h2>
        <p>{{ currentTrack.artist }}</p>
      </div>

      <!-- Progress Bar -->
      <div class="progress-container">
        <span class="current-time">{{ formatTime(audio.currentTime) }}</span>
        <div class="progress-bar-wrapper">
          <div class="progress-fill" :style="{ width: progressPercentage + '%' }"></div>
          <input
            type="range"
            class="progress-bar"
            v-model.number="audio.currentTime"
            :max="audio.duration || 0"
            min="0"
            step="0.1"
            @input="updateProgress"
          />
        </div>
        <span class="duration">{{ formatTime(audio.duration) }}</span>
      </div>

      <!-- Controls with SVG Icons -->
      <div class="controls">
        <button @click="prevTrack">
          <svg class="icon" width="20" height="20">
            <use xlink:href="img/icons.svg#icon-prev"></use>
          </svg>
        </button>

        <button @click="playPause">
          <svg class="icon" width="20" height="20">
            <use :xlink:href="isTimerPlaying ? 'img/icons.svg#icon-pause' : 'img/icons.svg#icon-play'"></use>
          </svg>
        </button>

        <button @click="nextTrack">
          <svg class="icon" width="20" height="20">
            <use xlink:href="img/icons.svg#icon-next"></use>
          </svg>
        </button>

        <button @click="toggleFavorite" class="favorite" :class="{ favorited: currentTrack.favorited }">
          <svg class="icon" width="20" height="20">
            <use :xlink:href="currentTrack.favorited ? 'img/icons.svg#icon-heart' : 'img/icons.svg#icon-heart-o'"></use>
          </svg>
        </button>
      </div>

      <!-- Favorites Section -->
      <div class="favorites-section" v-if="currentFavorite">
        <h3>Favorite Song</h3>
        <div class="favorite-item">
          {{ currentFavorite.name }} - {{ currentFavorite.artist }}
        </div>
      </div>

      <!-- NEW: Favorites List Section -->
      <div class="favorites-list-section">
        <h3>My Favorites ({{ favoritesList.length }})</h3>
        <div class="favorites-list" v-if="favoritesList.length > 0">
          <div 
            class="favorite-list-item" 
            v-for="(favorite, index) in favoritesList" 
            :key="index"
            @click="playFavorite(favorite)"
          >
            <div class="song-name">{{ favorite.name }}</div>
            <div class="artist-name">{{ favorite.artist }}</div>
          </div>
        </div>
        <div class="no-favorites" v-else>
          No favorites added yet
        </div>
      </div>
    </div>
  </div>

  <!-- Custom JavaScript -->
  <script src="script.js"></script>
</body>
</html>